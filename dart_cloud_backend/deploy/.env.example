# ============================================
# ContainerPub Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ============================================
# Database Configuration (REQUIRED)
# ============================================
POSTGRES_USER=dart_cloud
POSTGRES_PASSWORD=change_this_secure_password_123
POSTGRES_DB=dart_cloud
POSTGRES_PORT=5432
FUNCTION_DB=functions_db

# Generate secure password with:
# openssl rand -base64 32

# ============================================
# Server Configuration
# ============================================
PORT=8080
FUNCTIONS_DIR=/app/functions

# ============================================
# Security (REQUIRED)
# ============================================
JWT_SECRET=change_this_to_a_long_random_string_at_least_32_characters

# Generate secure JWT secret with:
# openssl rand -base64 64

# ============================================
# Function Execution Limits
# ============================================
FUNCTION_TIMEOUT_SECONDS=5          # Max execution time (default: 5 seconds)
FUNCTION_MAX_MEMORY_MB=128          # Memory limit per function (default: 128 MB)
FUNCTION_MAX_CONCURRENT=10          # Max concurrent executions (default: 10)

# ============================================
# Database Access for Functions (Optional)
# ============================================
# Use a separate database for function access - isolates from main platform data
FUNCTION_DB_MAX_CONNECTIONS=5       # Connection pool size (default: 5)
FUNCTION_DB_TIMEOUT_MS=5000         # Query timeout in milliseconds (default: 5000ms)

# ============================================
# Docker Compose Configuration
# ============================================
# These are constructed automatically from the above values
# DATABASE_URL=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}
# FUNCTION_DATABASE_URL=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${FUNCTION_DB}
